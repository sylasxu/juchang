<!--
  下拉菜单组件
  Requirements: 2.5, 2.6, 2.7, 2.8
  
  从右上角 More 图标触发的下拉菜单
  - [消息中心] 入口
  - [新对话] 入口
  - 点击外部自动关闭
-->
<block wx:if="{{visible}}">
  <!-- 遮罩层 -->
  <view class="dropmenu-overlay" bindtap="onOverlayTap"></view>
  
  <!-- 下拉菜单 -->
  <view 
    class="dropmenu halo-card-mini"
    style="top: {{top}}px; right: {{right}}px;"
  >
    <view 
      wx:for="{{items}}" 
      wx:key="key"
      class="dropmenu-item btn-pressable" 
      data-key="{{item.key}}"
      bindtap="onItemTap"
      hover-class="dropmenu-item--hover"
    >
      <view class="dropmenu-icon icon-circle icon-circle-sm icon-circle--{{item.iconColor}}">
        <t-icon name="{{item.icon}}" size="32rpx" />
      </view>
      <text class="dropmenu-text">{{item.label}}</text>
    </view>
  </view>
</block>
