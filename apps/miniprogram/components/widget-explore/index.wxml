<!--
  Widget Explore 组件 (Generative UI)
  Requirements: 17.1, 17.2, 17.3, 17.4, 17.5, 17.6
  
  探索卡片 (v3.5 零成本地图方案)
  - 显示标题（"为你找到观音桥附近的 5 个热门活动"）
  - 使用位置文字卡片替代静态地图（零成本）
  - 显示活动列表（最多 3 个）
  - 实现 [🗺️ 展开地图查看更多] 按钮
-->
<view class="widget-explore halo-card">
  <!-- 头部 -->
  <view class="explore-header">
    <view class="header-icon icon-circle icon-circle--blue">
      <t-icon name="location" size="40rpx" />
    </view>
    <text class="header-title">{{headerTitle}}</text>
  </view>
  
  <!-- 位置卡片（替代静态地图，零成本方案） -->
  <view class="location-card" bindtap="onLocationTap">
    <view class="location-card__icon">
      <t-icon name="map" size="48rpx" color="#5B75FB" />
    </view>
    <view class="location-card__content">
      <text class="location-card__name">{{center.name || '附近'}}周边</text>
      <text class="location-card__hint">点击展开完整地图</text>
    </view>
    <view class="location-card__arrow">
      <t-icon name="chevron-right" size="32rpx" color="#9CA3AF" />
    </view>
  </view>
  
  <!-- 活动列表 -->
  <view wx:if="{{displayResults.length > 0}}" class="explore-list">
    <view 
      wx:for="{{displayResults}}" 
      wx:key="id"
      class="explore-item"
      data-id="{{item.id}}"
      bindtap="onActivityTap"
    >
      <activity-list-item 
        activity="{{item}}"
        showDistance="{{true}}"
      />
    </view>
  </view>
  
  <!-- 空状态 -->
  <view wx:else class="explore-empty">
    <text class="empty-text">附近暂无活动，要不你来发起第一个？</text>
  </view>
  
  <!-- 展开地图按钮 -->
  <view class="explore-action">
    <view class="action-btn action-btn--secondary btn-pressable" bindtap="onExpandMap">
      <t-icon name="map" size="32rpx" />
      <text>展开地图查看更多</text>
    </view>
  </view>
</view>
