# Admin Cockpit Redesign - Requirements

## 1. 核心目标

将 Admin 后台从传统 CRUD 管理系统升级为 **AI 驾驶舱 (AI Cockpit) + 增长军火库 (Growth Arsenal)**。

作为 Solo Founder，Admin 应该帮助你做三件事：
1. **监控 AI 智商** - 发现 AI 的 Bad Case，持续优化
2. **保障内容安全** - AI 初审 + 人工终审
3. **辅助搞流量** - 生成社交媒体素材，洞察热门话题

## 2. 用户故事

### 2.1 God View 仪表盘 (P0)

**作为** Solo Founder
**我想要** 一眼看到生死攸关的数据
**以便于** 快速判断系统是否健康、业务是否增长

验收标准：
- [x] 2.1.1 实时概览卡片：今日活跃用户、今日成局数、今日 Token 消耗（钱）
- [x] 2.1.2 北极星指标：J2C 转化率 (多少 Joiner 变成了 Creator)
- [x] 2.1.3 AI 健康度：Bad Case 率、Tool 错误率、平均响应时长
- [x] 2.1.4 异常警报：最近 24h 报错数、敏感词触发数

### 2.2 Playground 调试场 (P0)

**作为** Solo Founder
**我想要** 在线调试 AI Prompt
**以便于** 修改后立刻测试效果，不用重新发版小程序

验收标准：
- [ ] 2.2.1 模拟聊天窗口，支持发送消息
- [ ] 2.2.2 可选择模拟用户身份（有/无登录、有/无手机号）
- [ ] 2.2.3 实时显示 AI 响应（流式）
- [ ] 2.2.4 显示 Tool 调用详情（入参/出参）
- [ ] 2.2.5 显示 Token 消耗统计

### 2.3 对话审计 (P0) - 已完成

**作为** Solo Founder
**我想要** 查看用户和 AI 的完整对话
**以便于** 发现 Bad Case，积累训练数据

验收标准：
- [x] 2.3.1 对话列表支持按评估状态筛选
- [x] 2.3.2 对话详情展示 AI 思维链
- [x] 2.3.3 对话详情展示 Tool 调用入参/出参
- [x] 2.3.4 一键标记 Good/Bad + 标签 + 备注

### 2.4 风险审核 (P0)

**作为** Solo Founder
**我想要** 快速处理 AI 标记的疑似违规内容
**以便于** 避免小程序被微信封杀

验收标准：
- [ ] 2.4.1 展示被 AI moderation 标记的活动/消息
- [ ] 2.4.2 显示违规类型和置信度
- [ ] 2.4.3 操作：[通过] / [删除] / [删除并封号]
- [ ] 2.4.4 处理后自动移出队列

### 2.5 海报工厂 (P1)

**作为** Solo Founder
**我想要** 一键生成适合发小红书的海报
**以便于** 快速产出自媒体素材，引流获客

验收标准：
- [ ] 2.5.1 输入文案或选择真实活动 ID
- [ ] 2.5.2 选择海报风格（Cyberpunk/极简/手写风）
- [ ] 2.5.3 一键生成高清海报图片
- [ ] 2.5.4 支持下载 PNG/JPG

### 2.6 热门洞察 (P2)

**作为** Solo Founder
**我想要** 看到用户最近高频提到的词
**以便于** 指导小红书选题方向

验收标准：
- [ ] 2.6.1 统计最近 7 天用户消息中的高频词
- [ ] 2.6.2 展示 Top 20 词云或列表
- [ ] 2.6.3 支持时间范围筛选

### 2.7 超级用户运营 (P1) - 已完成

**作为** Solo Founder
**我想要** 快速找到超级群主
**以便于** 重点维护高价值用户

验收标准：
- [x] 2.7.1 用户列表默认按发起数倒序
- [x] 2.7.2 Top 10 显示 👑 图标
- [ ] 2.7.3 用户详情页显示 Working Memory
- [ ] 2.7.4 支持手动赠送 Token 额度

## 3. 导航结构重构

### 3.1 新菜单结构

```
📊 仪表盘 (/)
   └─ God View: 实时概览 + 北极星 + AI 健康度 + 异常警报

🧠 AI Ops (/ai-ops)
   ├─ Playground (/ai-ops/playground)
   ├─ 对话审计 (/ai-ops/conversations)
   └─ 用量统计 (/ai-ops/usage)

🛡️ 安全 (/safety)
   ├─ 风险审核 (/safety/moderation)
   └─ 活动管理 (/safety/activities)

🚀 增长 (/growth)
   ├─ 海报工厂 (/growth/poster)
   └─ 热门洞察 (/growth/trends)

👥 用户 (/users)
   └─ 用户管理 (/users)

⚙️ 设置 (/settings)
   └─ 系统配置
```

### 3.2 删除/合并的菜单

- ❌ 删除：RAG 管理、Memory 管理（初期直接改代码）
- ❌ 删除：异常检测（合并到 Dashboard）
- ❌ 删除：通知管理（初期不需要）
- ❌ 删除：额度管理（合并到用量统计）
- ❌ 删除：系统配置（移到设置）
- ✅ 合并：安全运营 → 风险审核

## 4. 非功能需求

- **响应速度**：Dashboard 必须 < 2s 加载完成
- **操作效率**：风险审核必须在 2 次点击内完成
- **移动适配**：支持在手机上查看 Dashboard（应急）

## 5. 优先级总结

| 优先级 | 功能 | 状态 |
|--------|------|------|
| P0 | 仪表盘 God View | ✅ 已完成 |
| P0 | Playground | 待开发 |
| P0 | 对话审计 | ✅ 已完成 |
| P0 | 风险审核 | 待开发 |
| P1 | 海报工厂 | 待开发 |
| P1 | 超级用户运营 | 部分完成 |
| P2 | 热门洞察 | 待开发 |
| P2 | Prompt 版本管理 | 待开发 |
