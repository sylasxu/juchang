# Admin Cockpit Redesign - Technical Design

## 1. å¯¼èˆªç»“æ„é‡æ„

### 1.1 æ–° Sidebar ç»“æ„

```typescript
// apps/admin/src/components/layout/data/sidebar-data.ts

export const sidebarData: SidebarData = {
  navGroups: [
    // ğŸ“Š ä»ªè¡¨ç›˜ - God View
    {
      title: 'æŒ‡æŒ¥èˆ±',
      items: [
        { title: 'ä»ªè¡¨ç›˜', url: '/', icon: LayoutDashboard },
      ],
    },
    // ğŸ§  AI Ops - å¤§è„‘è°ƒä¼˜
    {
      title: 'AI Ops',
      items: [
        { title: 'Playground', url: '/ai-ops/playground', icon: Play },
        { title: 'å¯¹è¯å®¡è®¡', url: '/ai-ops/conversations', icon: MessageSquare },
        { title: 'ç”¨é‡ç»Ÿè®¡', url: '/ai-ops/usage', icon: TrendingUp },
      ],
    },
    // ğŸ›¡ï¸ å®‰å…¨ - ä¿å‘½æ¨¡å—
    {
      title: 'å®‰å…¨',
      items: [
        { title: 'é£é™©å®¡æ ¸', url: '/safety/moderation', icon: Shield },
        { title: 'æ´»åŠ¨ç®¡ç†', url: '/safety/activities', icon: Calendar },
      ],
    },
    // ğŸš€ å¢é•¿ - MCN å·¥å…·ç®±
    {
      title: 'å¢é•¿',
      items: [
        { title: 'æµ·æŠ¥å·¥å‚', url: '/growth/poster', icon: Image },
        { title: 'çƒ­é—¨æ´å¯Ÿ', url: '/growth/trends', icon: TrendingUp },
      ],
    },
    // ğŸ‘¥ ç”¨æˆ· - ç§åŸŸè¿è¥
    {
      title: 'ç”¨æˆ·',
      items: [
        { title: 'ç”¨æˆ·ç®¡ç†', url: '/users', icon: Users },
      ],
    },
    // âš™ï¸ è®¾ç½®
    {
      title: 'è®¾ç½®',
      items: [
        { title: 'ç³»ç»Ÿé…ç½®', url: '/settings', icon: Settings },
      ],
    },
  ],
}
```

### 1.2 è·¯ç”±ç»“æ„è°ƒæ•´

```
apps/admin/src/routes/_authenticated/
â”œâ”€â”€ index.tsx                    # ä»ªè¡¨ç›˜ God View
â”œâ”€â”€ ai-ops/
â”‚   â”œâ”€â”€ playground.tsx           # Playground è°ƒè¯•åœº
â”‚   â”œâ”€â”€ conversations.tsx        # å¯¹è¯å®¡è®¡åˆ—è¡¨
â”‚   â”œâ”€â”€ conversations.$id.tsx    # å¯¹è¯è¯¦æƒ…
â”‚   â””â”€â”€ usage.tsx                # ç”¨é‡ç»Ÿè®¡ï¼ˆåˆå¹¶ token-usage + quotaï¼‰
â”œâ”€â”€ safety/
â”‚   â”œâ”€â”€ moderation.tsx           # é£é™©å®¡æ ¸é˜Ÿåˆ—
â”‚   â””â”€â”€ activities.tsx           # æ´»åŠ¨ç®¡ç†ï¼ˆæŸ¥æ°´è¡¨ï¼‰
â”œâ”€â”€ growth/
â”‚   â”œâ”€â”€ poster.tsx               # æµ·æŠ¥å·¥å‚
â”‚   â””â”€â”€ trends.tsx               # çƒ­é—¨æ´å¯Ÿ
â”œâ”€â”€ users/
â”‚   â”œâ”€â”€ index.tsx                # ç”¨æˆ·åˆ—è¡¨
â”‚   â””â”€â”€ $id.tsx                  # ç”¨æˆ·è¯¦æƒ…
â””â”€â”€ settings/
    â””â”€â”€ index.tsx                # ç³»ç»Ÿé…ç½®
```

### 1.3 åˆ é™¤çš„è·¯ç”±

```
âŒ /ai-ops/overview.tsx          # åˆå¹¶åˆ°ä»ªè¡¨ç›˜
âŒ /ai-ops/config.tsx            # ç§»åˆ° /settings
âŒ /ai-ops/quota.tsx             # åˆå¹¶åˆ° /ai-ops/usage
âŒ /ai-ops/anomaly.tsx           # åˆå¹¶åˆ°ä»ªè¡¨ç›˜
âŒ /ai-ops/memory/*              # åˆ é™¤ï¼ˆåˆæœŸä¸éœ€è¦ï¼‰
âŒ /ai-ops/rag/*                 # åˆ é™¤ï¼ˆåˆæœŸä¸éœ€è¦ï¼‰
âŒ /ai-ops/security/*            # åˆå¹¶åˆ° /safety/moderation
âŒ /notifications/*              # åˆ é™¤ï¼ˆåˆæœŸä¸éœ€è¦ï¼‰
âŒ /reports/*                    # åˆå¹¶åˆ° /safety/moderation
âŒ /activities/*                 # ç§»åˆ° /safety/activities
```

## 2. ä»ªè¡¨ç›˜ God View è®¾è®¡

### 2.1 æ•°æ®ç»“æ„

```typescript
// ä»ªè¡¨ç›˜æ•°æ®æ¥å£
interface GodViewData {
  // å®æ—¶æ¦‚è§ˆ
  realtime: {
    activeUsers: number;        // ä»Šæ—¥æ´»è·ƒç”¨æˆ·
    todayActivities: number;    // ä»Šæ—¥æˆå±€æ•°
    tokenCost: number;          // ä»Šæ—¥ Token æ¶ˆè€—ï¼ˆå…ƒï¼‰
  };
  
  // åŒ—ææ˜ŸæŒ‡æ ‡
  northStar: {
    j2cRate: number;            // J2C è½¬åŒ–ç‡ (Joiner â†’ Creator)
    j2cTrend: number;           // è¾ƒä¸Šå‘¨å˜åŒ–
  };
  
  // AI å¥åº·åº¦
  aiHealth: {
    badCaseRate: number;        // Bad Case ç‡
    toolErrorRate: number;      // Tool é”™è¯¯ç‡
    avgResponseTime: number;    // å¹³å‡å“åº”æ—¶é•¿ (ms)
    badCaseTrend: number;       // Bad Case è¶‹åŠ¿
  };
  
  // å¼‚å¸¸è­¦æŠ¥
  alerts: {
    errorCount24h: number;      // 24h æŠ¥é”™æ•°
    sensitiveWordHits: number;  // æ•æ„Ÿè¯è§¦å‘æ•°
    pendingModeration: number;  // å¾…å®¡æ ¸æ•°
  };
}
```

### 2.2 API æ¥å£

```typescript
// GET /dashboard/god-view
// è¿”å› GodViewData
```

### 2.3 UI å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä»ªè¡¨ç›˜                                              [åˆ·æ–°æ•°æ®]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ä»Šæ—¥æ´»è·ƒ    â”‚ â”‚ ä»Šæ—¥æˆå±€    â”‚ â”‚ Token æ¶ˆè€—  â”‚ â”‚ J2C è½¬åŒ–  â”‚ â”‚
â”‚  â”‚    128      â”‚ â”‚    23       â”‚ â”‚   Â¥12.5     â”‚ â”‚   8.2%    â”‚ â”‚
â”‚  â”‚ â†‘ 12%      â”‚ â”‚ â†‘ 5%       â”‚ â”‚ â†“ 3%       â”‚ â”‚ â†‘ 0.5%   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ AI å¥åº·åº¦                   â”‚ â”‚ å¼‚å¸¸è­¦æŠ¥                    â”‚â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”â”‚ â”‚ ğŸ”´ æŠ¥é”™: 3                  â”‚â”‚
â”‚  â”‚ â”‚Bad 5% â”‚ â”‚Err 2% â”‚ â”‚1.2s â”‚â”‚ â”‚ ğŸŸ¡ æ•æ„Ÿè¯: 12               â”‚â”‚
â”‚  â”‚ â”‚ â†“0.3% â”‚ â”‚ â†“0.5% â”‚ â”‚â†“0.1sâ”‚â”‚ â”‚ ğŸŸ  å¾…å®¡æ ¸: 5                â”‚â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜â”‚ â”‚                             â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 3. Playground è°ƒè¯•åœºè®¾è®¡

### 3.1 åŠŸèƒ½è®¾è®¡

```typescript
interface PlaygroundState {
  // æ¨¡æ‹Ÿèº«ä»½
  mockUser: {
    type: 'anonymous' | 'logged_in' | 'with_phone';
    userId?: string;
    nickname?: string;
  };
  
  // æ¨¡æ‹Ÿä½ç½®
  mockLocation?: {
    lat: number;
    lng: number;
    name: string;
  };
  
  // å¯¹è¯å†å²
  messages: Array<{
    role: 'user' | 'assistant';
    content: string;
    toolCalls?: ToolCall[];
    thinking?: string;
  }>;
  
  // ç»Ÿè®¡
  stats: {
    totalTokens: number;
    responseTime: number;
    toolsUsed: string[];
  };
}
```

### 3.2 UI å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Playground                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ æ¨¡æ‹Ÿè®¾ç½®                    â”‚ â”‚ ç»Ÿè®¡                        â”‚ â”‚
â”‚ â”‚ èº«ä»½: [åŒ¿å â–¼]              â”‚ â”‚ Tokens: 1,234               â”‚ â”‚
â”‚ â”‚ ä½ç½®: [è§‚éŸ³æ¡¥ â–¼]            â”‚ â”‚ å“åº”: 1.2s                  â”‚ â”‚
â”‚ â”‚                             â”‚ â”‚ Tools: create, explore      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  [ç”¨æˆ·] æƒ³ç»„ä¸ªå‘¨æœ«ç«é”…å±€                                         â”‚
â”‚                                                                 â”‚
â”‚  [AI] ğŸ’­ æ€è€ƒè¿‡ç¨‹ (ç‚¹å‡»å±•å¼€)                                     â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚       â”‚ ç”¨æˆ·æƒ³åˆ›å»ºæ´»åŠ¨ï¼Œç±»å‹æ˜¯ç«é”…ï¼Œæ—¶é—´æ˜¯å‘¨æœ«...              â”‚   â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚       ğŸ”§ Tool: create_activity                                  â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚       â”‚ Input: { title: "å‘¨æœ«ç«é”…å±€", type: "food" }         â”‚   â”‚
â”‚       â”‚ Output: { activityId: "xxx", success: true }         â”‚   â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚       å¥½çš„ï¼Œå¸®ä½ åˆ›å»ºäº†ä¸€ä¸ªç«é”…å±€ï¼                               â”‚
â”‚                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [è¾“å…¥æ¶ˆæ¯...]                                        [å‘é€]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 4. é£é™©å®¡æ ¸è®¾è®¡

### 4.1 æ•°æ®ç»“æ„

```typescript
interface ModerationItem {
  id: string;
  type: 'activity' | 'message' | 'user_content';
  contentId: string;           // æ´»åŠ¨ ID / æ¶ˆæ¯ ID
  content: string;             // è¿è§„å†…å®¹
  violationType: string;       // è¿è§„ç±»å‹
  confidence: number;          // AI ç½®ä¿¡åº¦ (0-1)
  userId: string;
  userNickname: string | null;
  createdAt: string;
  status: 'pending' | 'approved' | 'rejected';
}
```

### 4.2 API æ¥å£

```typescript
// GET /safety/moderation/queue
// è·å–å¾…å®¡æ ¸é˜Ÿåˆ—

// POST /safety/moderation/:id/approve
// å®¡æ ¸é€šè¿‡

// POST /safety/moderation/:id/reject
// å®¡æ ¸æ‹’ç»ï¼ˆåˆ é™¤å†…å®¹ï¼‰

// POST /safety/moderation/:id/ban
// å®¡æ ¸æ‹’ç»å¹¶å°å·
```

### 4.3 UI å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é£é™©å®¡æ ¸                                    å¾…å¤„ç†: 5           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ”´ æ´»åŠ¨æ ‡é¢˜ç–‘ä¼¼è¿è§„                              2åˆ†é’Ÿå‰    â”‚ â”‚
â”‚ â”‚ ç”¨æˆ·: å¼ ä¸‰                                                  â”‚ â”‚
â”‚ â”‚ å†…å®¹: "xxxæ•æ„Ÿå†…å®¹xxx"                                      â”‚ â”‚
â”‚ â”‚ ç±»å‹: æ•æ„Ÿè¯ | ç½®ä¿¡åº¦: 92%                                  â”‚ â”‚
â”‚ â”‚                                                             â”‚ â”‚
â”‚ â”‚ [âœ“ é€šè¿‡]  [âœ— åˆ é™¤]  [ğŸš« åˆ é™¤å¹¶å°å·]                        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸŸ¡ æ´»åŠ¨æè¿°ç–‘ä¼¼å¹¿å‘Š                              5åˆ†é’Ÿå‰    â”‚ â”‚
â”‚ â”‚ ...                                                         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 5. æµ·æŠ¥å·¥å‚è®¾è®¡

### 5.1 åŠŸèƒ½è®¾è®¡

æµ·æŠ¥å·¥å‚ç®€åŒ–ä¸º**æ–‡æ¡ˆç”Ÿæˆ + æ’ç‰ˆé¢„è§ˆ**ï¼Œä¸åšæˆªå›¾åŠŸèƒ½ï¼ˆç”¨æˆ·è‡ªå·±æˆªå›¾ï¼‰ã€‚

```typescript
interface PosterRequest {
  // è¾“å…¥æ–¹å¼äºŒé€‰ä¸€
  activityId?: string;         // ä»çœŸå®æ´»åŠ¨ç”Ÿæˆ
  customText?: string;         // è‡ªå®šä¹‰æ–‡æ¡ˆ
  
  // é£æ ¼é€‰æ‹©
  style: 'cyberpunk' | 'minimal' | 'handwritten';
}

interface PosterResponse {
  // ç”Ÿæˆçš„æ–‡æ¡ˆ
  headline: string;            // ä¸»æ ‡é¢˜
  subheadline: string;         // å‰¯æ ‡é¢˜
  body: string;                // æ­£æ–‡
  cta: string;                 // è¡ŒåŠ¨å·å¬
  hashtags: string[];          // è¯é¢˜æ ‡ç­¾
  
  // æ’ç‰ˆå»ºè®®
  layout: {
    backgroundColor: string;
    textColor: string;
    accentColor: string;
    fontFamily: string;
  };
}
```

### 5.2 UI å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æµ·æŠ¥å·¥å‚                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ è¾“å…¥                        â”‚ â”‚ é¢„è§ˆ                        â”‚ â”‚
â”‚ â”‚                             â”‚ â”‚                             â”‚ â”‚
â”‚ â”‚ â—‹ ä»æ´»åŠ¨ç”Ÿæˆ                â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚ â”‚   [é€‰æ‹©æ´»åŠ¨ â–¼]              â”‚ â”‚  â”‚                     â”‚   â”‚ â”‚
â”‚ â”‚                             â”‚ â”‚  â”‚   å‘¨æœ«ç«é”…å±€        â”‚   â”‚ â”‚
â”‚ â”‚ â— è‡ªå®šä¹‰æ–‡æ¡ˆ                â”‚ â”‚  â”‚   ä¸€èµ·åƒè¾£ï¼        â”‚   â”‚ â”‚
â”‚ â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚  â”‚                     â”‚   â”‚ â”‚
â”‚ â”‚   â”‚ å‘¨æœ«æƒ³ç»„ä¸ªç«é”…å±€... â”‚   â”‚ â”‚  â”‚   #ç«é”… #å‘¨æœ«      â”‚   â”‚ â”‚
â”‚ â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚  â”‚                     â”‚   â”‚ â”‚
â”‚ â”‚                             â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚ â”‚ é£æ ¼: [Cyberpunk â–¼]         â”‚ â”‚                             â”‚ â”‚
â”‚ â”‚                             â”‚ â”‚  [å¤åˆ¶æ–‡æ¡ˆ] [ä¸‹è½½å›¾ç‰‡]      â”‚ â”‚
â”‚ â”‚ [ç”Ÿæˆæµ·æŠ¥]                  â”‚ â”‚                             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 6. çƒ­é—¨æ´å¯Ÿè®¾è®¡ (P2)

### 6.1 æ•°æ®ç»“æ„

```typescript
interface TrendInsight {
  // é«˜é¢‘è¯
  topWords: Array<{
    word: string;
    count: number;
    trend: 'up' | 'down' | 'stable';
  }>;
  
  // æ„å›¾åˆ†å¸ƒ
  intentDistribution: Array<{
    intent: string;
    count: number;
    percentage: number;
  }>;
  
  // æ—¶é—´èŒƒå›´
  period: '7d' | '30d';
}
```

## 7. å®ç°ä¼˜å…ˆçº§

### P0 - ä¸Šçº¿å¿…é¡»æœ‰

1. **å¯¼èˆªç»“æ„é‡æ„** - è°ƒæ•´ sidebar-data.ts å’Œè·¯ç”±
2. **ä»ªè¡¨ç›˜ God View** - é‡æ„ Dashboard ç»„ä»¶
3. **Playground** - å·²æœ‰åŸºç¡€ï¼Œéœ€è¦ä¼˜åŒ– UI
4. **é£é™©å®¡æ ¸** - æ–°å»º /safety/moderation é¡µé¢

### P1 - è¿è¥ææ•ˆ

5. **æµ·æŠ¥å·¥å‚** - æ–°å»º /growth/poster é¡µé¢
6. **ç”¨é‡ç»Ÿè®¡åˆå¹¶** - åˆå¹¶ token-usage + quota

### P2 - åæœŸä¼˜åŒ–

7. **çƒ­é—¨æ´å¯Ÿ** - æ–°å»º /growth/trends é¡µé¢
8. **ç”¨æˆ·è¯¦æƒ…ä¼˜åŒ–** - æ˜¾ç¤º Working Memory

## 8. API å˜æ›´

### 8.1 æ–°å¢æ¥å£

```typescript
// ä»ªè¡¨ç›˜ God View
GET /dashboard/god-view

// æµ·æŠ¥å·¥å‚
POST /growth/poster/generate

// çƒ­é—¨æ´å¯Ÿ
GET /growth/trends
```

### 8.2 å¤ç”¨æ¥å£

```typescript
// å¯¹è¯å®¡è®¡ - å·²æœ‰
GET /ai/sessions
GET /ai/sessions/:id
PATCH /ai/sessions/:id/evaluate

// é£é™©å®¡æ ¸ - å·²æœ‰ä½†éœ€è¦å®Œå–„
GET /ai/ops/security/moderation/queue
POST /ai/ops/security/moderation/:id/approve
POST /ai/ops/security/moderation/:id/reject

// ç”¨é‡ç»Ÿè®¡ - å·²æœ‰
GET /ai/metrics/usage
GET /ai/ops/metrics/health
```

## 9. æ­£ç¡®æ€§å±æ€§

### CP-30: ä»ªè¡¨ç›˜æ•°æ®å®æ—¶æ€§
- ä»ªè¡¨ç›˜æ•°æ®ç¼“å­˜æ—¶é—´ â‰¤ 5 åˆ†é’Ÿ
- åˆ·æ–°æŒ‰é’®å¼ºåˆ¶è·å–æœ€æ–°æ•°æ®

### CP-31: é£é™©å®¡æ ¸å®Œæ•´æ€§
- æ‰€æœ‰è¢« AI æ ‡è®°çš„å†…å®¹å¿…é¡»è¿›å…¥å®¡æ ¸é˜Ÿåˆ—
- å®¡æ ¸æ“ä½œå¿…é¡»è®°å½•æ“ä½œäººå’Œæ—¶é—´

### CP-32: æµ·æŠ¥å·¥å‚å®‰å…¨æ€§
- ç”Ÿæˆçš„æ–‡æ¡ˆå¿…é¡»ç»è¿‡æ•æ„Ÿè¯è¿‡æ»¤
- ä¸èƒ½åŒ…å«ç”¨æˆ·éšç§ä¿¡æ¯ï¼ˆæ‰‹æœºå·ç­‰ï¼‰
