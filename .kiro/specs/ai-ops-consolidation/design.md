# Design Document

## Overview

æœ¬è®¾è®¡æ–‡æ¡£æè¿° AI Ops æ¨¡å—æ•´åˆé‡æ„çš„æŠ€æœ¯å®ç°æ–¹æ¡ˆã€‚æ ¸å¿ƒç›®æ ‡æ˜¯å°† Playground å‡çº§ä¸º AI ç³»ç»Ÿçš„"å¯è§‚æµ‹æ€§ä¸­å¿ƒ"ï¼Œæ•´åˆæ¬¢è¿å¡ç‰‡é¢„è§ˆã€æ‰§è¡Œè¿½è¸ªç­‰åŠŸèƒ½ï¼Œæ¶ˆé™¤åŠŸèƒ½é‡å¤ã€‚

### Design Goals

1. **ç»Ÿä¸€å…¥å£**ï¼šPlayground æˆä¸º AI Ops çš„æ ¸å¿ƒå…¥å£ï¼Œå–ä»£åˆ†æ•£çš„åŠŸèƒ½é¡µé¢
2. **æ‰§è¡Œè¿½è¸ª**ï¼šæä¾›ç±»ä¼¼ Dify çš„æ‰§è¡Œé“¾è·¯å¯è§†åŒ–ï¼Œä½†ä¸å¼•å…¥å¤æ‚çš„æµç¨‹å›¾
3. **æµå¼ä½“éªŒ**ï¼šæ–‡æœ¬æµå¼æ¸²æŸ“ + Widget å³æ—¶å‡ºç° + è¿½è¸ªå®æ—¶æ›´æ–°
4. **æ¸è¿›å¼æŠ«éœ²**ï¼šé»˜è®¤ç®€æ´ï¼ŒæŒ‰éœ€å±•å¼€ç»†èŠ‚

### Non-Goals

- ä¸å¼•å…¥æµç¨‹å›¾ç¼–æ’ï¼ˆæˆ‘ä»¬çš„ AI æµç¨‹æ˜¯ Agent æ¨¡å¼ï¼ŒLLM è‡ªå·±å†³å®šè°ƒç”¨ä»€ä¹ˆå·¥å…·ï¼Œä¸éœ€è¦ React Flow è¿™ç§ Workflow ç¼–æ’å·¥å…·ï¼‰
- ä¸ä½¿ç”¨ AI Elements ç»„ä»¶åº“ï¼ˆä¾èµ– Next.jsï¼Œä¸æˆ‘ä»¬çš„ Vite æŠ€æœ¯æ ˆä¸å…¼å®¹ï¼‰
- ä¸åšå¤æ‚çš„åŠ¨ç”»æ•ˆæœï¼ˆä¿æŒç®€æ´ï¼Œè¿½è¸ªä¿¡æ¯ç›´æ¥å±•ç¤ºï¼‰
- ä¸å¼•å…¥é‡å‹ä¾èµ–ï¼ˆå¦‚ Mapbox GL JSã€Shikiï¼‰

**æ‰§è¡Œè¿½è¸ªä½¿ç”¨ Vertical Timelineï¼ˆå‚ç›´æ—¶é—´è½´ï¼‰**ï¼Œç±»ä¼¼ Chrome DevTools Network é¢æ¿æˆ– GitHub Actions Logsï¼Œè€Œé React Flow çš„ç½‘çŠ¶å›¾ã€‚è¿™æ›´æ¸…æ™°ã€æ›´é«˜æ•ˆã€æ›´ç¬¦åˆ Solo å›¢é˜Ÿ"å¿«å‡†ç‹ "çš„è°ƒè¯•éœ€æ±‚ã€‚

---

## Architecture

### Component Architecture

```
apps/admin/src/features/ai-ops/
â”œâ”€â”€ index.tsx                      # ä¸»å…¥å£ï¼ˆæ¸²æŸ“ Playgroundï¼‰
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ playground/
â”‚   â”‚   â”œâ”€â”€ playground-layout.tsx  # Split View å¸ƒå±€å®¹å™¨
â”‚   â”‚   â”œâ”€â”€ playground-header.tsx  # é¡¶éƒ¨å·¥å…·æ ï¼ˆä½™é¢ã€çŠ¶æ€ã€å¿«æ·é”®ï¼‰
â”‚   â”‚   â”œâ”€â”€ playground-chat.tsx    # å¯¹è¯åŒºï¼ˆå¤ç”¨ç°æœ‰ï¼Œå¢å¼ºï¼‰
â”‚   â”‚   â”œâ”€â”€ playground-context.tsx # ä¸Šä¸‹æ–‡é…ç½®é¢æ¿
â”‚   â”‚   â””â”€â”€ playground-shortcuts.tsx # å¿«æ·é”®å¸®åŠ©å¼¹çª—
â”‚   â”œâ”€â”€ execution-trace/
â”‚   â”‚   â”œâ”€â”€ trace-panel.tsx        # æ‰§è¡Œè¿½è¸ªé¢æ¿å®¹å™¨
â”‚   â”‚   â”œâ”€â”€ trace-timeline.tsx     # æ—¶é—´çº¿ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ trace-step.tsx         # å•ä¸ªæ­¥éª¤å¡ç‰‡
â”‚   â”‚   â”œâ”€â”€ trace-step-input.tsx   # ç”¨æˆ·è¾“å…¥æ­¥éª¤
â”‚   â”‚   â”œâ”€â”€ trace-step-prompt.tsx  # System Prompt æ­¥éª¤
â”‚   â”‚   â”œâ”€â”€ trace-step-llm.tsx     # LLM æ¨ç†æ­¥éª¤
â”‚   â”‚   â”œâ”€â”€ trace-step-tool.tsx    # Tool è°ƒç”¨æ­¥éª¤
â”‚   â”‚   â””â”€â”€ trace-step-output.tsx  # æœ€ç»ˆè¾“å‡ºæ­¥éª¤
â”‚   â”œâ”€â”€ widgets/
â”‚   â”‚   â”œâ”€â”€ widget-preview.tsx     # Widget é¢„è§ˆå®¹å™¨
â”‚   â”‚   â”œâ”€â”€ widget-draft.tsx       # è‰ç¨¿å¡ç‰‡é¢„è§ˆ
â”‚   â”‚   â”œâ”€â”€ widget-explore.tsx     # æ¢ç´¢å¡ç‰‡é¢„è§ˆ
â”‚   â”‚   â””â”€â”€ widget-share.tsx       # åˆ†äº«å¡ç‰‡é¢„è§ˆ
â”‚   â””â”€â”€ shared/
â”‚       â”œâ”€â”€ json-viewer.tsx        # JSON è¯­æ³•é«˜äº®æŸ¥çœ‹å™¨
â”‚       â”œâ”€â”€ prompt-modal.tsx       # Prompt æŸ¥çœ‹å¼¹çª—
â”‚       â””â”€â”€ streaming-text.tsx     # æµå¼æ–‡æœ¬æ¸²æŸ“ç»„ä»¶
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ use-playground-chat.ts     # å¯¹è¯ Hookï¼ˆå°è£… useChatï¼‰
â”‚   â”œâ”€â”€ use-execution-trace.ts     # æ‰§è¡Œè¿½è¸ªçŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ use-playground-shortcuts.ts # å¿«æ·é”®ç®¡ç†
â”‚   â””â”€â”€ use-split-view.ts          # åˆ†å±å¸ƒå±€çŠ¶æ€
â””â”€â”€ types/
    â””â”€â”€ trace.ts                   # æ‰§è¡Œè¿½è¸ªç±»å‹å®šä¹‰
```

### Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Playground Layout                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         Chat Panel              â”‚      Execution Trace Panel     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚     Welcome Card          â”‚  â”‚  â”‚    Timeline Header      â”‚  â”‚
â”‚  â”‚  (when empty)             â”‚  â”‚  â”‚    (requestId, timing)  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚     Message List          â”‚  â”‚  â”‚    Step: User Input     â”‚  â”‚
â”‚  â”‚  - User messages          â”‚  â”‚  â”‚    Step: Prompt Inject  â”‚  â”‚
â”‚  â”‚  - AI responses           â”‚  â”‚  â”‚    Step: LLM Inference  â”‚  â”‚
â”‚  â”‚  - Tool calls (inline)    â”‚  â”‚  â”‚    Step: Tool Call(s)   â”‚  â”‚
â”‚  â”‚  - Widget previews        â”‚  â”‚  â”‚    Step: Final Output   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                               â”‚
â”‚  â”‚     Input Area            â”‚  â”‚                               â”‚
â”‚  â”‚  - Text input             â”‚  â”‚                               â”‚
â”‚  â”‚  - Send / Stop buttons    â”‚  â”‚                               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Component Designs

### Component 1: PlaygroundLayout

**Purpose**: Split View å¸ƒå±€å®¹å™¨ï¼Œç®¡ç†å·¦å³é¢æ¿çš„æ˜¾ç¤ºå’Œå°ºå¯¸

**Props**:
```typescript
interface PlaygroundLayoutProps {
  children?: React.ReactNode;
}
```

**State**:
```typescript
interface LayoutState {
  tracePanelVisible: boolean;      // è¿½è¸ªé¢æ¿æ˜¯å¦å¯è§
  tracePanelWidth: number;         // è¿½è¸ªé¢æ¿å®½åº¦ï¼ˆpxï¼‰
  layoutMode: 'split' | 'overlay'; // å¸ƒå±€æ¨¡å¼ï¼ˆå“åº”å¼ï¼‰
}
```

**Behavior**:
- å±å¹• â‰¥1440pxï¼šé»˜è®¤ Split Viewï¼Œè¿½è¸ªé¢æ¿å®½åº¦ 400px
- å±å¹• 1024-1439pxï¼šè¿½è¸ªé¢æ¿é»˜è®¤æ”¶èµ·ï¼Œå¯å±•å¼€
- å±å¹• <1024pxï¼šè¿½è¸ªé¢æ¿ä½¿ç”¨ Bottom Sheet
- åˆ†éš”çº¿å¯æ‹–æ‹½è°ƒæ•´å®½åº¦ï¼ˆæœ€å° 300pxï¼Œæœ€å¤§ 50%ï¼‰
- å¸ƒå±€åå¥½å­˜å‚¨åœ¨ localStorage

**Keyboard Shortcuts**:
- `âŒ˜+E` / `Ctrl+E`ï¼šåˆ‡æ¢è¿½è¸ªé¢æ¿æ˜¾ç¤º

---

### Component 2: PlaygroundChat (Enhanced)

**Purpose**: å¯¹è¯åŒºç»„ä»¶ï¼ŒåŸºäºç°æœ‰å®ç°å¢å¼º

**Changes from Current**:
1. æ·»åŠ  Welcome Card é›†æˆï¼ˆå¤ç”¨ç°æœ‰ EmptyStateï¼‰
2. æ·»åŠ æµå¼æ–‡æœ¬æ¸²æŸ“ï¼ˆå¸¦é—ªçƒå…‰æ ‡ï¼‰
3. æ·»åŠ æ¶ˆæ¯æ“ä½œæŒ‰é’®ï¼ˆhover æ˜¾ç¤ºï¼‰
4. æ·»åŠ ä¸ Execution Trace çš„è”åŠ¨

**Props**:
```typescript
interface PlaygroundChatProps {
  onMessageSelect?: (messageId: string) => void;  // é€‰ä¸­æ¶ˆæ¯æ—¶é€šçŸ¥ Trace
  selectedMessageId?: string;                      // å½“å‰é€‰ä¸­çš„æ¶ˆæ¯
  onTraceStepClick?: (stepId: string) => void;    // ä» Trace ç‚¹å‡»è·³è½¬
}
```

**Streaming Text Behavior**:
```typescript
// æ–‡æœ¬æµå¼æ¸²æŸ“
<StreamingText 
  content={streamingContent}
  isStreaming={status === 'streaming'}
  showCursor={true}  // æ˜¾ç¤ºé—ªçƒå…‰æ ‡
/>

// Widget å‡ºç°ï¼ˆéæµå¼ï¼Œæ•°æ®å°±ç»ªåç›´æ¥æ˜¾ç¤ºï¼‰
{toolResult && (
  <WidgetPreview 
    type={toolResult.widgetType}
    data={toolResult.data}
    className="animate-fade-in"  // ç®€å• fade-in åŠ¨ç”»
  />
)}
```

---

### Component 3: ExecutionTracePanel

**Purpose**: æ‰§è¡Œè¿½è¸ªé¢æ¿ï¼Œæ˜¾ç¤º AI è¯·æ±‚çš„å®Œæ•´æ‰§è¡Œé“¾è·¯

**Props**:
```typescript
interface ExecutionTracePanelProps {
  trace: ExecutionTrace | null;
  isStreaming: boolean;
  onStepClick?: (stepId: string) => void;
  selectedStepId?: string;
}
```

**State**:
```typescript
interface TracePanelState {
  expandedSteps: Set<string>;  // å±•å¼€çš„æ­¥éª¤ ID
}
```

**Behavior**:
- å®æ—¶æ›´æ–°ï¼šæ­¥éª¤å®Œæˆæ—¶ç›´æ¥æ›´æ–°çŠ¶æ€ï¼ˆæ— å¤æ‚åŠ¨ç”»ï¼‰
- æ­¥éª¤çŠ¶æ€ï¼šspinnerï¼ˆè¿›è¡Œä¸­ï¼‰ã€âœ…ï¼ˆæˆåŠŸï¼‰ã€âŒï¼ˆå¤±è´¥ï¼‰
- ç‚¹å‡»æ­¥éª¤ï¼šå±•å¼€/æ”¶èµ·è¯¦æƒ…
- æ—¶é—´æ˜¾ç¤ºï¼šç›¸å¯¹äºè¯·æ±‚å¼€å§‹çš„æ¯«ç§’æ•°

---

### Component 4: TraceStep

**Purpose**: å•ä¸ªæ‰§è¡Œæ­¥éª¤çš„å¡ç‰‡ç»„ä»¶

**Props**:
```typescript
interface TraceStepProps {
  step: TraceStep;
  isExpanded: boolean;
  onToggle: () => void;
  isSelected?: boolean;
}
```

**Visual Design**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â—‹ 0ms   ğŸ”§ åˆ›å»ºæ´»åŠ¨è‰ç¨¿                    1.2s â”‚  â† æ”¶èµ·çŠ¶æ€
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â— 0ms   ğŸ”§ åˆ›å»ºæ´»åŠ¨è‰ç¨¿                    1.2s â”‚  â† å±•å¼€çŠ¶æ€
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ [å‚æ•°] [ç»“æœ] [é¢„è§ˆ]                        â”‚ â”‚  â† Tabs
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ {                                           â”‚ â”‚
â”‚ â”‚   "title": "æ˜æ™šè§‚éŸ³æ¡¥æ‰“éº»å°†",              â”‚ â”‚
â”‚ â”‚   "type": "boardgame",                      â”‚ â”‚
â”‚ â”‚   ...                                       â”‚ â”‚
â”‚ â”‚ }                                           â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Step Types**:
| Type | Icon | Name | Details |
|------|------|------|---------|
| input | ğŸ’¬ | ç”¨æˆ·è¾“å…¥ | åŸå§‹æ–‡æœ¬ |
| prompt | ğŸ“ | System Prompt | æ—¶é—´ã€ä½ç½®ã€è‰ç¨¿ä¸Šä¸‹æ–‡æ‘˜è¦ + æŸ¥çœ‹å®Œæ•´æŒ‰é’® |
| llm | ğŸ¤– | LLM æ¨ç† | æ¨¡å‹ã€Token æ•°ã€è€—æ—¶ |
| tool | ğŸ”§ | Tool è°ƒç”¨ | å·¥å…·åã€å‚æ•°ã€ç»“æœã€é¢„è§ˆ |
| output | âœ¨ | æœ€ç»ˆå“åº” | AI å›å¤æ–‡æœ¬ |

---

### Component 5: StreamingText

**Purpose**: æµå¼æ–‡æœ¬æ¸²æŸ“ç»„ä»¶ï¼Œå¸¦é—ªçƒå…‰æ ‡

**Props**:
```typescript
interface StreamingTextProps {
  content: string;
  isStreaming: boolean;
  showCursor?: boolean;
  className?: string;
}
```

**Implementation**:
```typescript
export function StreamingText({ content, isStreaming, showCursor = true, className }: StreamingTextProps) {
  return (
    <span className={className}>
      {content}
      {isStreaming && showCursor && (
        <span className="animate-blink">â–Š</span>
      )}
    </span>
  );
}

// CSS
@keyframes blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0; }
}
.animate-blink {
  animation: blink 1s step-end infinite;
}
```

---

### Component 6: WidgetPreview

**Purpose**: Widget é¢„è§ˆå®¹å™¨ï¼Œæ ¹æ®ç±»å‹æ¸²æŸ“å¯¹åº”çš„ Widget

**Props**:
```typescript
interface WidgetPreviewProps {
  type: 'widget_draft' | 'widget_explore' | 'widget_share';
  data: unknown;
  className?: string;
}
```

**Behavior**:
- æ•°æ®å°±ç»ªåç«‹å³æ˜¾ç¤ºï¼ˆfade-in åŠ¨ç”» 200msï¼‰
- ä¸åšæ¸è¿›å¼å­—æ®µæ¸²æŸ“ï¼ˆä¸€æ¬¡æ€§æ˜¾ç¤ºå®Œæ•´ Widgetï¼‰
- æä¾› JSON æŸ¥çœ‹ Tab

---

### Component 7: PromptModal

**Purpose**: System Prompt æŸ¥çœ‹å¼¹çª—

**Props**:
```typescript
interface PromptModalProps {
  open: boolean;
  onOpenChange: (open: boolean) => void;
  content: string;
}
```

**Features**:
- Monaco Editorï¼ˆåªè¯»æ¨¡å¼ï¼‰
- Markdown è¯­æ³•é«˜äº®
- å¤åˆ¶æŒ‰é’®
- Esc å…³é—­

---

## API Design

### Execution Trace Data Structure

```typescript
// types/trace.ts
export interface ExecutionTrace {
  requestId: string;
  startedAt: string;      // ISO timestamp
  completedAt?: string;   // ISO timestamp
  status: 'running' | 'completed' | 'error';
  steps: TraceStep[];
}

export interface TraceStep {
  id: string;
  type: 'input' | 'prompt' | 'llm' | 'tool' | 'output';
  name: string;
  startedAt: string;
  completedAt?: string;
  status: 'pending' | 'running' | 'success' | 'error';
  duration?: number;      // milliseconds
  data: TraceStepData;
  error?: string;
}

export type TraceStepData = 
  | InputStepData 
  | PromptStepData 
  | LLMStepData 
  | ToolStepData 
  | OutputStepData;

export interface InputStepData {
  text: string;
}

export interface PromptStepData {
  currentTime: string;
  userLocation?: { lat: number; lng: number; name?: string };
  draftContext?: { activityId: string; title: string };
  fullPrompt?: string;  // å®Œæ•´ Promptï¼ˆå¯é€‰ï¼Œç‚¹å‡»æŸ¥çœ‹æ—¶åŠ è½½ï¼‰
}

export interface LLMStepData {
  model: string;
  inputTokens: number;
  outputTokens: number;
  totalTokens: number;
  timeToFirstToken?: number;  // ms
  tokensPerSecond?: number;
}

export interface ToolStepData {
  toolName: string;
  toolDisplayName: string;
  input: Record<string, unknown>;
  output?: Record<string, unknown>;
  widgetType?: 'widget_draft' | 'widget_explore' | 'widget_share';
}

export interface OutputStepData {
  text: string;
}
```

### API Enhancement: /ai/chat with Trace

å½“ `source='admin'` æ—¶ï¼ŒAPI åœ¨ Data Stream ä¸­é¢å¤–å‘é€æ‰§è¡Œè¿½è¸ªæ•°æ®ï¼š

```typescript
// ä½¿ç”¨ AI SDK çš„ createUIMessageStream å‘é€è‡ªå®šä¹‰æ•°æ®
import { createUIMessageStream } from 'ai';

// åœ¨ streamChat å‡½æ•°ä¸­
const stream = createUIMessageStream({
  execute: async ({ writer }) => {
    // å‘é€è¿½è¸ªå¼€å§‹
    writer.write({
      type: 'data-trace-start',
      data: { requestId, startedAt: new Date().toISOString() },
    });

    // å‘é€å„æ­¥éª¤
    writer.write({
      type: 'data-trace-step',
      data: { id: 'step-1', type: 'input', ... },
    });

    // ... æ­£å¸¸çš„ AI å“åº”æµ ...

    // å‘é€è¿½è¸ªå®Œæˆ
    writer.write({
      type: 'data-trace-end',
      data: { completedAt: new Date().toISOString() },
    });
  },
});
```

### Frontend Hook: useExecutionTrace

```typescript
// hooks/use-execution-trace.ts
export function useExecutionTrace() {
  const [trace, setTrace] = useState<ExecutionTrace | null>(null);

  // å¤„ç†æ¥è‡ª useChat çš„è‡ªå®šä¹‰æ•°æ®
  const handleDataPart = useCallback((part: DataPart) => {
    if (part.type === 'data-trace-start') {
      setTrace({
        requestId: part.data.requestId,
        startedAt: part.data.startedAt,
        status: 'running',
        steps: [],
      });
    } else if (part.type === 'data-trace-step') {
      setTrace(prev => prev ? {
        ...prev,
        steps: [...prev.steps, part.data],
      } : null);
    } else if (part.type === 'data-trace-end') {
      setTrace(prev => prev ? {
        ...prev,
        status: 'completed',
        completedAt: part.data.completedAt,
      } : null);
    }
  }, []);

  return { trace, handleDataPart, clearTrace: () => setTrace(null) };
}
```

---

## Sidebar Navigation Changes

### Before (Current)

```typescript
{
  title: 'AI Ops',
  icon: Bot,
  items: [
    { title: 'AI Ops æ€»è§ˆ', url: '/ai-ops' },
    { title: 'æ¬¢è¿å¡ç‰‡é¢„è§ˆ', url: '/ai-ops/welcome-preview' },
    { title: 'é¢åº¦ç®¡ç†', url: '/ai-ops/quota' },
    { title: 'Token ç»Ÿè®¡', url: '/ai-ops/token-usage' },
    { title: 'Prompt æŸ¥çœ‹', url: '/ai-ops/prompt-viewer' },
    { title: 'Playground', url: '/ai-ops/playground' },
  ],
}
```

### After (New)

```typescript
{
  title: 'AI Ops',
  icon: Bot,
  items: [
    { title: 'Playground', url: '/ai-ops', icon: Play },  // ä¸»å…¥å£
    { title: 'é¢åº¦ç®¡ç†', url: '/ai-ops/quota', icon: Gauge },
    { title: 'Token ç»Ÿè®¡', url: '/ai-ops/token-usage', icon: TrendingUp },
    { title: 'Prompt æŸ¥çœ‹', url: '/ai-ops/prompt-viewer', icon: FileCode },
    { title: 'å¯¹è¯å®¡è®¡', url: '/conversations', icon: MessageSquare },
  ],
}
// ç§»é™¤ï¼šAI Ops æ€»è§ˆã€æ¬¢è¿å¡ç‰‡é¢„è§ˆ
// Playground æˆä¸º /ai-ops çš„é»˜è®¤é¡µé¢
```

---

## Route Changes

### Routes to Modify

| Route | Before | After |
|-------|--------|-------|
| `/ai-ops` | AIOverview | PlaygroundLayout |
| `/ai-ops/playground` | PlaygroundChat | Redirect to `/ai-ops` |
| `/ai-ops/welcome-preview` | WelcomePreview | Remove (åŠŸèƒ½æ•´åˆåˆ° Playground) |

### Route Configuration

```typescript
// routes/_authenticated/ai-ops/index.tsx
export const Route = createFileRoute('/_authenticated/ai-ops/')({
  component: () => <PlaygroundLayout />,
});

// routes/_authenticated/ai-ops/playground.tsx
// é‡å®šå‘åˆ° /ai-ops
export const Route = createFileRoute('/_authenticated/ai-ops/playground')({
  beforeLoad: () => {
    throw redirect({ to: '/ai-ops' });
  },
});
```

---

## Keyboard Shortcuts

| Shortcut | Action | Scope |
|----------|--------|-------|
| `âŒ˜+Enter` | å‘é€æ¶ˆæ¯ | Input focused |
| `âŒ˜+E` | åˆ‡æ¢æ‰§è¡Œè¿½è¸ªé¢æ¿ | Global |
| `âŒ˜+K` | æ‰“å¼€æµ‹è¯•ç”¨ä¾‹é€‰æ‹©å™¨ | Global |
| `âŒ˜+L` | æ¸…ç©ºå¯¹è¯ | Global |
| `âŒ˜+S` | ä¿å­˜å½“å‰å¯¹è¯ä¸ºæµ‹è¯•ç”¨ä¾‹ | Global |
| `Esc` | å…³é—­å¼¹çª—/é¢æ¿ | Global |
| `?` | æ˜¾ç¤ºå¿«æ·é”®å¸®åŠ© | Global |

---

## Responsive Design

### Breakpoints

| Breakpoint | Layout | Trace Panel |
|------------|--------|-------------|
| â‰¥1440px | Split View | é»˜è®¤æ˜¾ç¤ºï¼Œå®½åº¦ 400px |
| 1024-1439px | Split View | é»˜è®¤æ”¶èµ·ï¼Œå¯å±•å¼€ |
| <1024px | Single Column | Bottom Sheet |

### localStorage Keys

```typescript
const STORAGE_KEYS = {
  TRACE_PANEL_VISIBLE: 'ai-ops-trace-visible',
  TRACE_PANEL_WIDTH: 'ai-ops-trace-width',
  SANDBOX_MODE: 'ai-ops-sandbox-mode',
  TEST_CASES: 'ai-ops-test-cases',
};
```

---

## Error Handling

### Error Display

```typescript
// å¯¹è¯åŒºé”™è¯¯
<div className="rounded-lg bg-destructive/10 px-3 py-2 text-sm text-destructive">
  <p>{error.message}</p>
  <Button variant="outline" size="sm" onClick={retry}>
    é‡è¯•
  </Button>
</div>

// è¿½è¸ªé¢æ¿é”™è¯¯æ­¥éª¤
<TraceStep 
  step={step}
  className="border-destructive"
/>
```

### Error Recovery

- ç½‘ç»œé”™è¯¯ï¼šæ˜¾ç¤ºé‡è¯•æŒ‰é’®
- API é”™è¯¯ï¼šæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ + é‡è¯•æŒ‰é’®
- æµå¼ä¸­æ–­ï¼šä¿ç•™å·²æ¥æ”¶å†…å®¹ï¼Œæ ‡è®°ä¸º"å·²ä¸­æ–­"

---

## Testing Strategy

### Unit Tests

- `StreamingText`: æµ‹è¯•å…‰æ ‡æ˜¾ç¤º/éšè—
- `TraceStep`: æµ‹è¯•å±•å¼€/æ”¶èµ·çŠ¶æ€
- `useExecutionTrace`: æµ‹è¯•çŠ¶æ€æ›´æ–°é€»è¾‘

### Integration Tests

- å®Œæ•´å¯¹è¯æµç¨‹ï¼šå‘é€æ¶ˆæ¯ â†’ æµå¼å“åº” â†’ Widget æ˜¾ç¤º
- æ‰§è¡Œè¿½è¸ªï¼šæ­¥éª¤å®æ—¶æ›´æ–° â†’ ç‚¹å‡»å±•å¼€è¯¦æƒ…
- å¿«æ·é”®ï¼šæµ‹è¯•æ‰€æœ‰å¿«æ·é”®åŠŸèƒ½

### E2E Tests

- å“åº”å¼å¸ƒå±€åˆ‡æ¢
- åˆ†å±æ‹–æ‹½è°ƒæ•´
- localStorage æŒä¹…åŒ–

---

## Migration Plan

### Phase 1: åŸºç¡€æ¶æ„

1. åˆ›å»ºæ–°çš„ç»„ä»¶ç›®å½•ç»“æ„
2. å®ç° PlaygroundLayoutï¼ˆSplit Viewï¼‰
3. å®ç° StreamingText ç»„ä»¶

### Phase 2: æ‰§è¡Œè¿½è¸ª

1. å®šä¹‰ ExecutionTrace ç±»å‹
2. å®ç° TracePanel å’Œ TraceStep ç»„ä»¶
3. ä¿®æ”¹ API è¿”å›æ‰§è¡Œè¿½è¸ªæ•°æ®
4. å®ç° useExecutionTrace Hook

### Phase 3: æ•´åˆä¸æ¸…ç†

1. ä¿®æ”¹ `/ai-ops` è·¯ç”±æ¸²æŸ“ Playground
2. æ•´åˆæ¬¢è¿å¡ç‰‡é¢„è§ˆåŠŸèƒ½
3. æ›´æ–°ä¾§è¾¹æ å¯¼èˆª
4. åˆ é™¤åºŸå¼ƒçš„é¡µé¢å’Œè·¯ç”±

### Phase 4: å¢å¼ºåŠŸèƒ½

1. å®ç°å¿«æ·é”®ç³»ç»Ÿ
2. å®ç°æµ‹è¯•ç”¨ä¾‹ç®¡ç†
3. å®ç°å“åº”å¼å¸ƒå±€
4. æ·»åŠ  localStorage æŒä¹…åŒ–

---

## ğŸš€ WOW Factor è®¾è®¡

### Cost Dashboard è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’° ä»Šæ—¥ Â¥2.34  â”‚  ğŸ“Š æœ¬æœˆ Â¥45.67/Â¥100  â”‚  ğŸ“ˆ Â¥0.12/å¯¹è¯      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“ ç‚¹å‡»å±•å¼€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      AI æˆæœ¬åˆ†æ                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Tool æˆæœ¬å æ¯”   â”‚  â”‚         è¿‡å» 7 å¤©æˆæœ¬è¶‹åŠ¿             â”‚ â”‚
â”‚  â”‚   ğŸ¥§ é¥¼å›¾        â”‚  â”‚         ğŸ“ˆ æŠ˜çº¿å›¾                    â”‚ â”‚
â”‚  â”‚                  â”‚  â”‚                                      â”‚ â”‚
â”‚  â”‚ createDraft 45%  â”‚  â”‚  Â¥8 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚ â”‚
â”‚  â”‚ exploreNearby 30%â”‚  â”‚  Â¥6 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚ â”‚
â”‚  â”‚ refineDraft 20%  â”‚  â”‚  Â¥4 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚ â”‚
â”‚  â”‚ publish 5%       â”‚  â”‚  Â¥2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ”¥ Top 5 æœ€è´µå¯¹è¯                                              â”‚
â”‚  1. "å¸®æˆ‘è§„åˆ’ä¸€å‘¨çš„æ´»åŠ¨" - Â¥0.45 - 12:34                        â”‚
â”‚  2. "é™„è¿‘æœ‰ä»€ä¹ˆå¥½ç©çš„" - Â¥0.32 - 11:20                          â”‚
â”‚  ...                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Conversation Replay è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â—€â—€  â–¶  â–¶â–¶  â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â”‚  1x â–¼  â”‚  00:45 / 02:30 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                                                                 â”‚
â”‚  å›æ”¾æ¨¡å¼ï¼š2024-01-15 14:32 çš„å¯¹è¯                              â”‚
â”‚  ç”¨æˆ·ï¼šå¼ ä¸‰ (138****1234)                                       â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  [æ­£åœ¨å›æ”¾] ç”¨æˆ·è¾“å…¥...                                  â”‚   â”‚
â”‚  â”‚  "æ˜æ™šè§‚éŸ³æ¡¥æ‰“éº»å°†ï¼Œ3ç¼º1"                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  æ‰§è¡Œè¿½è¸ªï¼ˆå½“æ—¶çŠ¶æ€ï¼‰                                           â”‚
â”‚  â”œâ”€ âœ… ç”¨æˆ·è¾“å…¥ (0ms)                                          â”‚
â”‚  â”œâ”€ âœ… Prompt æ³¨å…¥ (5ms)                                       â”‚
â”‚  â”œâ”€ ğŸ”µ LLM æ¨ç† (æ­£åœ¨å›æ”¾...)                                  â”‚
â”‚  â””â”€ â³ Tool è°ƒç”¨                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### A/B Prompt å¯¹æ¯”è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”¬ Prompt å¯¹æ¯”æ¨¡å¼                              [é€€å‡ºå¯¹æ¯”]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç‰ˆæœ¬ A: v3.4 (å½“å‰)       â”‚  ç‰ˆæœ¬ B: v3.3 (ä¸Šä¸€ç‰ˆ)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                            â”‚                                    â”‚
â”‚  [å¯¹è¯å†…å®¹ A]              â”‚  [å¯¹è¯å†…å®¹ B]                      â”‚
â”‚                            â”‚                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Token: 1,234              â”‚  Token: 1,456 (+18%)  âš ï¸           â”‚
â”‚  è€—æ—¶: 1.2s                â”‚  è€—æ—¶: 1.8s (+50%)   âš ï¸           â”‚
â”‚  Tool: createDraft         â”‚  Tool: createDraft âœ…              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                                                                 â”‚
â”‚  ğŸ“Š å·®å¼‚åˆ†æ                                                    â”‚
â”‚  â€¢ ç‰ˆæœ¬ B Token ä½¿ç”¨é‡é«˜ 18%                                    â”‚
â”‚  â€¢ ç‰ˆæœ¬ B å“åº”æ—¶é—´æ…¢ 50%                                        â”‚
â”‚  â€¢ Tool è°ƒç”¨ä¸€è‡´ âœ…                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æµ‹è¯•å¥—ä»¶è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ§ª æµ‹è¯•å¥—ä»¶ï¼šæ ¸å¿ƒåœºæ™¯                    [è¿è¡Œå…¨éƒ¨] [æ·»åŠ ç”¨ä¾‹] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  é€šè¿‡ç‡: 8/10 (80%)  â”‚  ä¸Šæ¬¡è¿è¡Œ: 5 åˆ†é’Ÿå‰  â”‚  å¹³å‡è€—æ—¶: 2.3s  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ… åˆ›å»ºæ´»åŠ¨ - åŸºç¡€åœºæ™¯                                   1.2s â”‚
â”‚     è¾“å…¥: "æ˜æ™šè§‚éŸ³æ¡¥æ‰“éº»å°†"                                    â”‚
â”‚     æœŸæœ›: Tool=createDraft, åŒ…å«"éº»å°†"                         â”‚
â”‚                                                                 â”‚
â”‚  âœ… æ¢ç´¢é™„è¿‘ - æ— ç­›é€‰                                     0.8s â”‚
â”‚     è¾“å…¥: "é™„è¿‘æœ‰ä»€ä¹ˆæ´»åŠ¨"                                      â”‚
â”‚     æœŸæœ›: Tool=exploreNearby                                   â”‚
â”‚                                                                 â”‚
â”‚  âŒ ä¿®æ”¹è‰ç¨¿ - æ¢åœ°ç‚¹                                     2.1s â”‚
â”‚     è¾“å…¥: "æ¢åˆ°è§£æ”¾ç¢‘"                                          â”‚
â”‚     æœŸæœ›: Tool=refineDraft, locationName åŒ…å«"è§£æ”¾ç¢‘"          â”‚
â”‚     å®é™…: Tool=refineDraft, locationName="è§‚éŸ³æ¡¥" âš ï¸           â”‚
â”‚     [æŸ¥çœ‹è¯¦æƒ…] [é‡æ–°è¿è¡Œ]                                       â”‚
â”‚                                                                 â”‚
â”‚  â³ å‘å¸ƒæ´»åŠ¨ - ç¡®è®¤å‘å¸ƒ                                   ç­‰å¾…ä¸­â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ‡æ³¨ç³»ç»Ÿè®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI å›å¤                                           [ğŸ“ æ ‡æ³¨]   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  å¥½çš„ï¼Œæˆ‘å¸®ä½ åˆ›å»ºäº†ä¸€ä¸ªéº»å°†å±€ï¼š                                 â”‚
â”‚  ğŸ“ è§‚éŸ³æ¡¥ Â· æ˜æ™š 20:00 Â· 3ç¼º1                                 â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  è´¨é‡è¯„åˆ†: â­â­â­â­â­                                      â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  é—®é¢˜æ ‡ç­¾:                                              â”‚   â”‚
â”‚  â”‚  [ ] å¹»è§‰  [ ] ä¸ç›¸å…³  [âœ“] æ ¼å¼å®Œç¾  [ ] è¯­æ°”ä¸å½“       â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  å¤‡æ³¨: å®Œç¾è¯†åˆ«äº†æ—¶é—´ã€åœ°ç‚¹ã€äººæ•°                        â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚                              [å–æ¶ˆ] [ä¿å­˜æ ‡æ³¨]          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å¥åº·åº¦æŒ‡ç¤ºå™¨è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸŸ¢ AI å¥åº·åº¦: 98%                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ğŸ“Š è¿‡å» 7 å¤©æ€§èƒ½                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  å“åº”æ—¶é—´ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 1.2s (åŸºå‡†: 1.5s) âœ…     â”‚   â”‚
â”‚  â”‚  TTFT     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 0.3s (åŸºå‡†: 0.5s) âœ…     â”‚   â”‚
â”‚  â”‚  æˆåŠŸç‡   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 99.2% (åŸºå‡†: 95%) âœ…     â”‚   â”‚
â”‚  â”‚  å‡†ç¡®ç‡   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 87% (åŸºå‡†: 85%) âœ…       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  âš ï¸ å‘Šè­¦                                                        â”‚
â”‚  â€¢ ä»Šæ—¥ Tool è°ƒç”¨å¤±è´¥ç‡ä¸Šå‡ 2% (æ­£å¸¸æ³¢åŠ¨)                       â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“ˆ è¶‹åŠ¿                                                        â”‚
â”‚  â€¢ å“åº”æ—¶é—´è¾ƒä¸Šå‘¨ä¸‹é™ 15% ğŸ‘                                    â”‚
â”‚  â€¢ Token ä½¿ç”¨é‡è¾ƒä¸Šå‘¨ä¸‹é™ 8% ğŸ‘                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Command Palette è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ” è¾“å…¥å‘½ä»¤æˆ–æœç´¢...                                    âŒ˜P    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æœ€è¿‘ä½¿ç”¨                                                       â”‚
â”‚  â”œâ”€ ğŸ”„ åˆ‡æ¢æ²™ç›’æ¨¡å¼                                      âŒ˜â‡§S   â”‚
â”‚  â”œâ”€ ğŸ—‘ï¸ æ¸…ç©ºå¯¹è¯                                          âŒ˜L    â”‚
â”‚  â””â”€ ğŸ“Š æ‰“å¼€æˆæœ¬åˆ†æ                                      âŒ˜â‡§C   â”‚
â”‚                                                                 â”‚
â”‚  æ‰€æœ‰å‘½ä»¤                                                       â”‚
â”‚  â”œâ”€ ğŸ“¤ å¯¼å‡ºè°ƒè¯•æŠ¥å‘Š                                      âŒ˜â‡§E   â”‚
â”‚  â”œâ”€ ğŸ§ª è¿è¡Œæµ‹è¯•å¥—ä»¶                                      âŒ˜â‡§T   â”‚
â”‚  â”œâ”€ ğŸ”¬ è¿›å…¥å¯¹æ¯”æ¨¡å¼                                      âŒ˜â‡§A   â”‚
â”‚  â”œâ”€ âª æ‰“å¼€å†å²å¯¹è¯                                      âŒ˜â‡§H   â”‚
â”‚  â”œâ”€ ğŸ“ æ ‡æ³¨å½“å‰å›å¤                                      âŒ˜â‡§M   â”‚
â”‚  â”œâ”€ âš™ï¸ æ‰“å¼€è®¾ç½®                                          âŒ˜,    â”‚
â”‚  â””â”€ â“ æ˜¾ç¤ºå¿«æ·é”®å¸®åŠ©                                    ?     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¬ Cinematic Visual Design (è®©æŠ•èµ„äººéª‚è„è¯çš„è§†è§‰è®¾è®¡)

### Trace Step ç»„ä»¶è®¾è®¡ (Glassmorphism + Pulse Animation)

```tsx
// ä¸–ç•Œçº§çš„ Trace Item è®¾è®¡
<motion.div
  initial={{ opacity: 0, x: 20 }}
  animate={{ opacity: 1, x: 0 }}
  className="relative pl-6 border-l-2 border-slate-800"
>
  {/* 1. æ—¶é—´è½´ä¸Šçš„ç‚¹ï¼šå¸¦å‘¼å¸æ•ˆæœ */}
  <div className={cn(
    "absolute -left-[9px] top-0 w-4 h-4 rounded-full border-2 bg-background",
    status === 'running' && "border-blue-500 shadow-[0_0_10px_rgba(59,130,246,0.5)]",
    status === 'success' && "border-green-500",
    status === 'error' && "border-red-500",
  )}>
    {status === 'running' && (
      <div className="animate-ping absolute inset-0 rounded-full bg-blue-400 opacity-75" />
    )}
  </div>

  {/* 2. å¡ç‰‡ä¸»ä½“ï¼šç»ç’ƒè´¨æ„Ÿ */}
  <div className="bg-slate-900/50 backdrop-blur-sm border border-slate-800 rounded-lg p-3 
                  hover:border-slate-600 transition-colors">
    <div className="flex justify-between items-center">
      <span className="font-mono text-xs text-blue-400">TOOL_CALL</span>
      <span className="font-mono text-xs text-slate-500">145ms</span>
    </div>
    <div className="font-bold text-slate-200 mt-1">createActivityDraft</div>
    
    {/* 3. å‚æ•°é¢„è§ˆï¼šè¯­æ³•é«˜äº® */}
    <div className="mt-2 font-mono text-xs bg-black/30 p-2 rounded">
      <span className="text-purple-400">intent:</span> <span className="text-green-400">"create"</span><br/>
      <span className="text-purple-400">location:</span> <span className="text-green-400">"è§‚éŸ³æ¡¥"</span>...
    </div>
  </div>
</motion.div>
```

### è¿æ¥çº¿æµå…‰åŠ¨ç”» (Flowing Gradient)

```css
/* æ—¶é—´è½´è¿æ¥çº¿ - æµå…‰æ•ˆæœ */
.timeline-line {
  background: linear-gradient(
    180deg,
    transparent 0%,
    rgba(59, 130, 246, 0.5) 50%,
    transparent 100%
  );
  background-size: 100% 200%;
  animation: flow 2s linear infinite;
}

@keyframes flow {
  0% { background-position: 0% 0%; }
  100% { background-position: 0% 200%; }
}
```

### Widget å‡ºåœºåŠ¨ç”» (Slide Up + Fade + Scale)

```tsx
// Widget å¡ç‰‡å‡ºåœºåŠ¨ç”»
<motion.div
  initial={{ opacity: 0, y: 20, scale: 0.95 }}
  animate={{ opacity: 1, y: 0, scale: 1 }}
  transition={{ 
    duration: 0.3, 
    ease: [0.4, 0, 0.2, 1],
    scale: { type: "spring", stiffness: 300, damping: 20 }
  }}
  className="bg-gradient-to-br from-primary/5 to-transparent 
             border border-primary/20 rounded-xl p-4
             shadow-lg shadow-primary/5"
>
  {/* Widget å†…å®¹ */}
</motion.div>
```

### Token é€Ÿåº¦è®¡ (Real-time Speedometer)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš¡ 47 tokens/s  â”‚  ğŸ“Š 1,234 total      â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘  â”‚  $0.0012             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```tsx
// Token é€Ÿåº¦è®¡ç»„ä»¶
<div className="flex items-center gap-2 font-mono text-xs">
  <Zap className="h-3 w-3 text-yellow-500" />
  <motion.span
    key={tokensPerSecond}
    initial={{ scale: 1.2, color: '#fbbf24' }}
    animate={{ scale: 1, color: '#94a3b8' }}
    className="tabular-nums"
  >
    {tokensPerSecond} tokens/s
  </motion.span>
</div>
```

### Zen Mode å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚                        [å…¨é»‘èƒŒæ™¯ #000]                          â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                             â”‚                           â”‚   â”‚
â”‚  â”‚      Chat Stream            â”‚    Execution Matrix       â”‚   â”‚
â”‚  â”‚      (çº¯å‡€èƒŒæ™¯)              â”‚    (æµå…‰æ—¶é—´çº¿)            â”‚   â”‚
â”‚  â”‚                             â”‚                           â”‚   â”‚
â”‚  â”‚  â–Š æ­£åœ¨æ€è€ƒ...              â”‚  â”œâ”€ ğŸ”µ LLM æ¨ç†           â”‚   â”‚
â”‚  â”‚                             â”‚  â”‚   â””â”€ 47 tokens/s       â”‚   â”‚
â”‚  â”‚                             â”‚  â”œâ”€ â³ Tool è°ƒç”¨          â”‚   â”‚
â”‚  â”‚                             â”‚                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚              â”‚  âš¡ 47 t/s  â”‚  $0.001  â”‚  [Exit] â”‚                â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                      (æµ®åŠ¨æ§åˆ¶æ¡)                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å®æ—¶åœ°å›¾ä¸Šä¸‹æ–‡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ ç”¨æˆ·ä½ç½®                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                 â”‚   â”‚
â”‚  â”‚     [Dark Map Tiles]            â”‚   â”‚
â”‚  â”‚                                 â”‚   â”‚
â”‚  â”‚          ğŸ“ â† å¯æ‹–æ‹½            â”‚   â”‚
â”‚  â”‚                                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚
â”‚  å½“å‰ï¼šè§‚éŸ³æ¡¥ (29.5630, 106.5516)       â”‚
â”‚                                         â”‚
â”‚  å¿«æ·ä½ç½®ï¼š                              â”‚
â”‚  [è§‚éŸ³æ¡¥] [è§£æ”¾ç¢‘] [å—åª] [æ²™åªå]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¶ˆæ¯æˆæœ¬æ˜¾ç¤º

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤– AI                                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  å¥½çš„ï¼Œæˆ‘å¸®ä½ åˆ›å»ºäº†ä¸€ä¸ªéº»å°†å±€ï¼š                                 â”‚
â”‚  ğŸ“ è§‚éŸ³æ¡¥ Â· æ˜æ™š 20:00 Â· 3ç¼º1                                 â”‚
â”‚                                                                 â”‚
â”‚  [Widget Card é¢„è§ˆ]                                             â”‚
â”‚                                                                 â”‚
â”‚                                              $0.0004 â† hover   â”‚
â”‚                                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚                                              â”‚ Input:  $0.0001â”‚   â”‚
â”‚                                              â”‚ Output: $0.0003â”‚   â”‚
â”‚                                              â”‚ Total:  $0.0004â”‚   â”‚
â”‚                                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆå¢å¼º

| åº“ | ç”¨é€” | è¯´æ˜ |
|---|------|------|
| `framer-motion` | åŠ¨ç”» | Widget è¿›åœºã€é¢æ¿åˆ‡æ¢ï¼ˆå…‹åˆ¶ä½¿ç”¨ï¼‰ |
| `cmdk` | å‘½ä»¤é¢æ¿ | âŒ˜+K å¿«æ·æ“ä½œ |
| `recharts` | å›¾è¡¨ | æˆæœ¬é¥¼å›¾ã€è¶‹åŠ¿æŠ˜çº¿å›¾ |

**æ³¨æ„**ï¼š
- ä»£ç é«˜äº®ç”¨ç®€å• CSSï¼Œä¸å¼•å…¥ shiki
- åœ°å›¾ä½¿ç”¨è½»é‡æ–¹æ¡ˆï¼ˆè…¾è®¯é™æ€åœ°å›¾ API + ç‚¹å‡»é€‰ç‚¹ï¼‰ï¼Œä¸å¼•å…¥ Mapbox GL JS

### ä½ç½®ä¸Šä¸‹æ–‡è°ƒè¯•ï¼ˆè…¾è®¯åœ°å›¾ GL ç‰ˆï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ æ¨¡æ‹Ÿä½ç½®                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å½“å‰ï¼šé‡åº†Â·è§‚éŸ³æ¡¥æ­¥è¡Œè¡—                 â”‚
â”‚  (29.5630, 106.5516) GCJ-02             â”‚
â”‚                                         â”‚
â”‚  å¿«æ·ä½ç½®ï¼š                              â”‚
â”‚  [è§‚éŸ³æ¡¥] [è§£æ”¾ç¢‘] [å—åª] [æ²™åªå]       â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  [è…¾è®¯åœ°å›¾ GL - æç®€ç°ä¸»é¢˜]      â”‚   â”‚
â”‚  â”‚                                 â”‚   â”‚
â”‚  â”‚          â•‹ â† åå­—å‡†æ˜Ÿ           â”‚   â”‚
â”‚  â”‚                                 â”‚   â”‚
â”‚  â”‚  (æ‹–åŠ¨åœ°å›¾ï¼Œå‡†æ˜Ÿå¯¹å‡†ç›®æ ‡ä½ç½®)    â”‚   â”‚
â”‚  â”‚  å†…é˜´å½± + å»é¥±å’Œæ»¤é•œ            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚
â”‚  æˆ–æ‰‹åŠ¨è¾“å…¥ï¼š                            â”‚
â”‚  ç»åº¦: [106.5516]  çº¬åº¦: [29.5630]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æŠ€æœ¯å†³ç­–**ï¼š
- âœ… ä½¿ç”¨è…¾è®¯åœ°å›¾ GL ç‰ˆï¼ˆGCJ-02 åæ ‡ç³»ï¼Œä¸å°ç¨‹åºä¸€è‡´ï¼‰
- âŒ ä¸ç”¨ Mapboxï¼ˆé¿å…åæ ‡ç³»è½¬æ¢é—®é¢˜ï¼‰
- ğŸ’° è´¹ç”¨ï¼š0 å…ƒï¼ˆAdmin ç”¨é‡è¿œè¾¾ä¸åˆ°æ”¶è´¹æ ‡å‡†ï¼‰

**è§†è§‰è®¾è®¡ï¼ˆSoft Tech é£æ ¼ï¼‰**ï¼š
- ä½¿ç”¨è…¾è®¯æ§åˆ¶å°çš„"æç®€ç°"æ¨¡æ¿ï¼Œå…³æ‰å¤šä½™ POI
- CSS å†…é˜´å½± `shadow-[inset_0_0_20px_rgba(0,0,0,0.05)]`
- å»é¥±å’Œæ»¤é•œ `grayscale-[20%]`
- å¤§åœ†è§’ `rounded-xl` + æ·¡è¾¹æ¡† `border-slate-200`

**è®¾è®¡è¯´æ˜**ï¼šåœ°å›¾æ˜¯è°ƒè¯•å·¥å…·ï¼Œä¸æ˜¯å…¥å£ã€‚ç”¨äº Context-Aware Debuggingï¼Œè®© Admin åƒä¸Šå¸ä¸€æ ·éšæ‰‹ä¸€æ‹–å°±èƒ½æ”¹å˜ AI çš„"ä¸–ç•Œ"ã€‚

### å­—ä½“è§„èŒƒ

```css
/* ä»£ç åŒºåŸŸå¼ºåˆ¶ä½¿ç”¨ç­‰å®½å­—ä½“ */
.font-mono {
  font-family: 'JetBrains Mono', 'Geist Mono', 'Fira Code', monospace;
  font-feature-settings: 'liga' 1, 'calt' 1; /* å¯ç”¨è¿å­— */
}
```
